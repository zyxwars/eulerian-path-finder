var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function r(e){e.forEach(n)}function s(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const c="undefined"!=typeof window;let d=c?()=>window.performance.now():()=>Date.now(),u=c?e=>requestAnimationFrame(e):e;const a=new Set;function f(e){a.forEach((t=>{t.c(e)||(a.delete(t),t.f())})),0!==a.size&&u(f)}function g(e){let t;return 0===a.size&&u(f),{promise:new Promise((n=>{a.add(t={c:e,f:n})})),abort(){a.delete(t)}}}function p(e,t){e.appendChild(t)}function h(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function m(e){const t=x("style");return function(e,t){p(e.head||e,t)}(h(e),t),t.sheet}function $(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode.removeChild(e)}function y(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function x(e){return document.createElement(e)}function v(e){return document.createTextNode(e)}function w(){return v(" ")}function k(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function _(e){return function(t){return t.preventDefault(),e.call(this,t)}}function O(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function E(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function j(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function S(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}const z=new Map;let C,M=0;function I(e,t,n,o,r,s,i,l=0){const c=16.666/o;let d="{\n";for(let e=0;e<=1;e+=c){const o=t+(n-t)*s(e);d+=100*e+`%{${i(o,1-o)}}\n`}const u=d+`100% {${i(n,1-n)}}\n}`,a=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,f=h(e),{stylesheet:g,rules:p}=z.get(f)||function(e,t){const n={stylesheet:m(t),rules:{}};return z.set(e,n),n}(f,e);p[a]||(p[a]=!0,g.insertRule(`@keyframes ${a} ${u}`,g.cssRules.length));const $=e.style.animation||"";return e.style.animation=`${$?`${$}, `:""}${a} ${o}ms linear ${r}ms 1 both`,M+=1,a}function D(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),M-=r,M||u((()=>{M||(z.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),z.clear())})))}function L(e){C=e}function P(){if(!C)throw new Error("Function called outside component initialization");return C}function T(){const e=P();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=S(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const A=[],R=[],F=[],N=[],B=Promise.resolve();let H=!1;function q(e){F.push(e)}const V=new Set;let X,Y=0;function Z(){const e=C;do{for(;Y<A.length;){const e=A[Y];Y++,L(e),G(e.$$)}for(L(null),A.length=0,Y=0;R.length;)R.pop()();for(let e=0;e<F.length;e+=1){const t=F[e];V.has(t)||(V.add(t),t())}F.length=0}while(A.length);for(;N.length;)N.pop()();H=!1,V.clear(),L(e)}function G(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(q)}}function J(){return X||(X=Promise.resolve(),X.then((()=>{X=null}))),X}function K(e,t,n){e.dispatchEvent(S(`${t?"intro":"outro"}${n}`))}const Q=new Set;let U;function W(){U={r:0,c:[],p:U}}function ee(){U.r||r(U.c),U=U.p}function te(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function ne(e,t,n,o){if(e&&e.o){if(Q.has(e))return;Q.add(e),U.c.push((()=>{Q.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const oe={duration:0};function re(e){e&&e.c()}function se(e,t,o,i){const{fragment:l,on_mount:c,on_destroy:d,after_update:u}=e.$$;l&&l.m(t,o),i||q((()=>{const t=c.map(n).filter(s);d?d.push(...t):r(t),e.$$.on_mount=[]})),u.forEach(q)}function ie(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function le(e,t){-1===e.$$.dirty[0]&&(A.push(e),H||(H=!0,B.then(Z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ce(t,n,s,i,l,c,d,u=[-1]){const a=C;L(t);const f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(a?a.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||a.$$.root};d&&d(f.root);let g=!1;if(f.ctx=s?s(t,n.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&l(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),g&&le(t,e)),n})):[],f.update(),g=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(b)}else f.fragment&&f.fragment.c();n.intro&&te(t.$$.fragment),se(t,n.target,n.anchor,n.customElement),Z()}L(a)}class de{$destroy(){ie(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ue=[];function ae(t,n=e){let o;const r=new Set;function s(e){if(i(t,e)&&(t=e,o)){const e=!ue.length;for(const e of r)e[1](),ue.push(e,t);if(e){for(let e=0;e<ue.length;e+=2)ue[e][0](ue[e+1]);ue.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,l=e){const c=[i,l];return r.add(c),1===r.size&&(o=n(s)||e),i(t),()=>{r.delete(c),0===r.size&&(o(),o=null)}}}}function fe(e){const t=e-1;return t*t*t+1}function ge(e){return"[object Date]"===Object.prototype.toString.call(e)}function pe(e,t,n,o){if("number"==typeof n||ge(n)){const r=o-n,s=(n-t)/(e.dt||1/60),i=(s+(e.opts.stiffness*r-e.opts.damping*s)*e.inv_mass)*e.dt;return Math.abs(i)<e.opts.precision&&Math.abs(r)<e.opts.precision?o:(e.settled=!1,ge(n)?new Date(n.getTime()+i):n+i)}if(Array.isArray(n))return n.map(((r,s)=>pe(e,t[s],n[s],o[s])));if("object"==typeof n){const r={};for(const s in n)r[s]=pe(e,t[s],n[s],o[s]);return r}throw new Error(`Cannot spring ${typeof n} values`)}function he(e,t={}){const n=ae(e),{stiffness:o=.15,damping:r=.8,precision:s=.01}=t;let i,l,c,u=e,a=e,f=1,p=0,h=!1;function m(t,o={}){a=t;const r=c={};if(null==e||o.hard||$.stiffness>=1&&$.damping>=1)return h=!0,i=d(),u=t,n.set(e=a),Promise.resolve();if(o.soft){const e=!0===o.soft?.5:+o.soft;p=1/(60*e),f=0}return l||(i=d(),h=!1,l=g((t=>{if(h)return h=!1,l=null,!1;f=Math.min(f+p,1);const o={inv_mass:f,opts:$,settled:!0,dt:60*(t-i)/1e3},r=pe(o,u,e,a);return i=t,u=e,n.set(e=r),o.settled&&(l=null),!o.settled}))),new Promise((e=>{l.promise.then((()=>{r===c&&e()}))}))}const $={set:m,update:(t,n)=>m(t(a,e),n),subscribe:n.subscribe,stiffness:o,damping:r,precision:s};return $}const me=ae(1);me.subscribe((e=>me.set(Math.max(e,.1))));const $e=60;function be(t){let n,o,s,i,l=(t[0].solutionOrder?t[0].solutionOrder:t[0].edges.size)+"";return{c(){n=x("div"),o=v(l),O(n,"class","node svelte-16y2fmy"),j(n,"left",t[0].x+"px"),j(n,"top",t[0].y+"px"),j(n,"background-color",t[0].isSelected?"red":t[0].edges.size%2==0?"chartreuse":"yellow"),j(n,"border-color",t[0].isSelected?"darkred":t[0].edges.size%2==0?"forestgreen":"darkgoldenrod"),j(n,"width",t[1]*$e+"px"),j(n,"height",t[1]*$e+"px"),j(n,"font-size",1*t[1]+"rem"),j(n,"border-width",.2*t[1]+"rem")},m(e,r){$(e,n,r),p(n,o),s||(i=[k(n,"click",t[2]),k(n,"contextmenu",_(t[3])),k(n,"dblclick",t[3])],s=!0)},p(e,[t]){1&t&&l!==(l=(e[0].solutionOrder?e[0].solutionOrder:e[0].edges.size)+"")&&E(o,l),1&t&&j(n,"left",e[0].x+"px"),1&t&&j(n,"top",e[0].y+"px"),1&t&&j(n,"background-color",e[0].isSelected?"red":e[0].edges.size%2==0?"chartreuse":"yellow"),1&t&&j(n,"border-color",e[0].isSelected?"darkred":e[0].edges.size%2==0?"forestgreen":"darkgoldenrod"),2&t&&j(n,"width",e[1]*$e+"px"),2&t&&j(n,"height",e[1]*$e+"px"),2&t&&j(n,"font-size",1*e[1]+"rem"),2&t&&j(n,"border-width",.2*e[1]+"rem")},i:e,o:e,d(e){e&&b(n),s=!1,r(i)}}}function ye(e,t,n){let o;l(e,me,(e=>n(1,o=e)));let{node:r}=t;const s=T();return e.$$set=e=>{"node"in e&&n(0,r=e.node)},[r,o,()=>{s("node_selected",r)},()=>{s("node_deleted",r)}]}class xe extends de{constructor(e){super(),ce(this,e,ye,be,i,{node:0})}}function ve(t){let n,o,r,s;return{c(){n=x("div"),o=x("div"),O(o,"class","edge svelte-54e2i6"),j(o,"height",10*t[1]+"px"),O(n,"class","edge-area svelte-54e2i6"),j(n,"left",t[0].x+30*t[1]+"px"),j(n,"top",t[0].y+5*t[1]+"px"),j(n,"width",t[0].width+"px"),j(n,"height",t[0].height*t[1]+"px"),j(n,"transform","rotate("+t[0].angleDeg+"deg)")},m(e,i){$(e,n,i),p(n,o),r||(s=k(n,"click",t[2]),r=!0)},p(e,[t]){2&t&&j(o,"height",10*e[1]+"px"),3&t&&j(n,"left",e[0].x+30*e[1]+"px"),3&t&&j(n,"top",e[0].y+5*e[1]+"px"),1&t&&j(n,"width",e[0].width+"px"),3&t&&j(n,"height",e[0].height*e[1]+"px"),1&t&&j(n,"transform","rotate("+e[0].angleDeg+"deg)")},i:e,o:e,d(e){e&&b(n),r=!1,s()}}}function we(e,t,n){let o;l(e,me,(e=>n(1,o=e)));let{edge:r}=t;const s=T();return e.$$set=e=>{"edge"in e&&n(0,r=e.edge)},[r,o,()=>{s("edge_deleted",r)}]}class ke extends de{constructor(e){super(),ce(this,e,we,ve,i,{edge:0})}}function _e(e,{delay:t=0,duration:n=400,easing:o=fe,start:r=0,opacity:s=0}={}){const i=getComputedStyle(e),l=+i.opacity,c="none"===i.transform?"":i.transform,d=1-r,u=l*(1-s);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} scale(${1-d*t});\n\t\t\topacity: ${l-u*t}\n\t\t`}}function Oe(n){let o,i,l,c,u,a,f,h,m,y,v,_,E,j,S,z;return{c(){o=x("div"),i=x("div"),l=x("button"),l.textContent="[ESC]",c=w(),u=x("h3"),u.innerHTML='Visual implementation of <a href="https://en.wikipedia.org/wiki/Eulerian_path#Fleury&#39;s_algorithm">Fleury&#39;s algorithm</a>',a=w(),f=x("h3"),f.textContent="Basic controls:",h=w(),m=x("ol"),m.innerHTML="<li>Left click to <strong>create node.</strong></li> \n      <li>Right or double click to <strong>delete node.</strong></li> \n      <li>Select two nodes to <strong>connect</strong> them.</li> \n      <li>Click on an edge to <strong>delete</strong> it.</li>",y=w(),v=x("a"),v.textContent="Source code",O(l,"class","close svelte-482vcg"),O(u,"class","svelte-482vcg"),O(f,"class","svelte-482vcg"),O(v,"href","https://github.com/zyxwars/eulerian-path-finder"),O(v,"class","source svelte-482vcg"),O(i,"class","tutorial svelte-482vcg"),O(o,"class","wrapper svelte-482vcg")},m(e,t){$(e,o,t),p(o,i),p(i,l),p(i,c),p(i,u),p(i,a),p(i,f),p(i,h),p(i,m),p(i,y),p(i,v),j=!0,S||(z=k(l,"click",n[0]),S=!0)},p:e,i(n){j||(q((()=>{E&&E.end(1),_=function(n,o,r){let i,l,c=o(n,r),u=!1,a=0;function f(){i&&D(n,i)}function p(){const{delay:o=0,duration:r=300,easing:s=t,tick:p=e,css:h}=c||oe;h&&(i=I(n,0,1,r,o,s,h,a++)),p(0,1);const m=d()+o,$=m+r;l&&l.abort(),u=!0,q((()=>K(n,!0,"start"))),l=g((e=>{if(u){if(e>=$)return p(1,0),K(n,!0,"end"),f(),u=!1;if(e>=m){const t=s((e-m)/r);p(t,1-t)}}return u}))}let h=!1;return{start(){h||(h=!0,D(n),s(c)?(c=c(),J().then(p)):p())},invalidate(){h=!1},end(){u&&(f(),u=!1)}}}(o,_e,{}),_.start()})),j=!0)},o(n){_&&_.invalidate(),E=function(n,o,i){let l,c=o(n,i),u=!0;const a=U;function f(){const{delay:o=0,duration:s=300,easing:i=t,tick:f=e,css:p}=c||oe;p&&(l=I(n,1,0,s,o,i,p));const h=d()+o,m=h+s;q((()=>K(n,!1,"start"))),g((e=>{if(u){if(e>=m)return f(0,1),K(n,!1,"end"),--a.r||r(a.c),!1;if(e>=h){const t=i((e-h)/s);f(1-t,t)}}return u}))}return a.r+=1,s(c)?J().then((()=>{c=c(),f()})):f(),{end(e){e&&c.tick&&c.tick(1,0),u&&(l&&D(n,l),u=!1)}}}(o,_e,{}),j=!1},d(e){e&&b(o),e&&E&&E.end(),S=!1,z()}}}function Ee(e){const t=T();return[()=>{t("tutorial_closed")}]}class je extends de{constructor(e){super(),ce(this,e,Ee,Oe,i,{})}}const Se=(e,t,n)=>{let o=1;t[e]=!0;for(let r of n[e].edges)!1===t[r]&&(o+=Se(r,t,n));return o},ze=e=>{let t={};for(let{id:n}of Object.values(e))t[n]=!1;return t},Ce=(e,t,n)=>{const o=Se(e,ze(n),n);n[e].edges.delete(t),n[t].edges.delete(e);const r=Se(e,ze(n),n);return n[e].edges.add(t),n[t].edges.add(e),o>r};function Me(t){let n,o,s,i,l,c,d,u,a,f,g=t[2].toFixed(1)+"";return{c(){n=x("div"),o=x("div"),s=v("Zoom: "),i=v(g),l=w(),c=x("button"),c.textContent="+",d=w(),u=x("button"),u.textContent="-",O(c,"class","svelte-8t922z"),O(u,"class","svelte-8t922z"),O(n,"class","wrapper svelte-8t922z")},m(e,r){$(e,n,r),p(n,o),p(o,s),p(o,i),p(n,l),p(n,c),p(n,d),p(n,u),a||(f=[k(c,"pointerdown",_(t[4])),k(c,"pointerup",t[5]),k(u,"pointerdown",_(t[6])),k(u,"pointerup",t[7])],a=!0)},p(e,[t]){4&t&&g!==(g=e[2].toFixed(1)+"")&&E(i,g)},i:e,o:e,d(e){e&&b(n),a=!1,r(f)}}}function Ie(e,t,n){let o;l(e,me,(e=>n(2,o=e)));let r=!1,s=!1,i=1;const c=(e=1)=>{if(r&&s&&(n(0,r=!1),n(1,s=!1)),!r&&e>0||!s&&e<0)return i=1;me.update((t=>t+.1*e)),i+=.5,setTimeout((()=>c(e)),200*i**-1)};return[r,s,o,c,()=>{n(0,r=!0),c()},()=>n(0,r=!1),()=>{n(1,s=!0),c(-1)},()=>n(1,s=!1)]}class De extends de{constructor(e){super(),ce(this,e,Ie,Me,i,{})}}function Le(e,t,n){const o=e.slice();return o[25]=t[n],o}function Pe(e,t,n){const o=e.slice();return o[28]=t[n],o}function Te(t){let n,o;return n=new je({}),n.$on("tutorial_closed",t[14]),{c(){re(n.$$.fragment)},m(e,t){se(n,e,t),o=!0},p:e,i(e){o||(te(n.$$.fragment,e),o=!0)},o(e){ne(n.$$.fragment,e),o=!1},d(e){ie(n,e)}}}function Ae(e){let t,n;return t=new ke({props:{edge:e[28]}}),t.$on("edge_deleted",e[12]),{c(){re(t.$$.fragment)},m(e,o){se(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.edge=e[28]),t.$set(o)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){ie(t,e)}}}function Re(e){let t,n;return t=new xe({props:{node:e[25]}}),t.$on("node_selected",e[10]),t.$on("node_deleted",e[11]),{c(){re(t.$$.fragment)},m(e,o){se(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.node=e[25]),t.$set(o)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){ie(t,e)}}}function Fe(e){let t;return{c(){t=x("div"),O(t,"class","solution-node svelte-1u1oml2"),j(t,"top",e[5].y+"px"),j(t,"left",e[5].x+"px"),j(t,"width",60*e[6]+"px"),j(t,"height",60*e[6]+"px")},m(e,n){$(e,t,n)},p(e,n){32&n&&j(t,"top",e[5].y+"px"),32&n&&j(t,"left",e[5].x+"px"),64&n&&j(t,"width",60*e[6]+"px"),64&n&&j(t,"height",60*e[6]+"px")},d(e){e&&b(t)}}}function Ne(e){let t,n,o,s,i,l,c,d,u,a,f,g,h,m,_,j,S,z,C,M,I,D=e[2]&&Te(e),L=e[1],P=[];for(let t=0;t<L.length;t+=1)P[t]=Ae(Pe(e,L,t));const T=e=>ne(P[e],1,1,(()=>{P[e]=null}));let A=Object.values(e[0]),R=[];for(let t=0;t<A.length;t+=1)R[t]=Re(Le(e,A,t));const F=e=>ne(R[e],1,1,(()=>{R[e]=null}));h=new De({});let N=e[3]&&Fe(e);return{c(){t=x("main"),D&&D.c(),n=w(),o=x("div"),s=w();for(let e=0;e<P.length;e+=1)P[e].c();i=w();for(let e=0;e<R.length;e+=1)R[e].c();l=w(),c=x("h4"),d=v("Is solvable: "),u=v(e[4]),a=w(),f=x("br"),g=w(),re(h.$$.fragment),m=w(),N&&N.c(),_=w(),j=x("button"),j.innerHTML='<i class="fas fa-eraser fa-lg"></i>',S=w(),z=x("button"),z.textContent="Calculate Path",O(o,"class","background svelte-1u1oml2"),O(c,"class","is-solvable svelte-1u1oml2"),O(j,"class","erase-btn svelte-1u1oml2"),O(z,"class","action-btn svelte-1u1oml2"),O(t,"class","svelte-1u1oml2")},m(r,b){$(r,t,b),D&&D.m(t,null),p(t,n),p(t,o),p(t,s);for(let e=0;e<P.length;e+=1)P[e].m(t,null);p(t,i);for(let e=0;e<R.length;e+=1)R[e].m(t,null);p(t,l),p(t,c),p(c,d),p(c,u),p(c,a),p(c,f),p(c,g),se(h,c,null),p(t,m),N&&N.m(t,null),p(t,_),p(t,j),p(t,S),p(t,z),C=!0,M||(I=[k(o,"click",e[9]),k(j,"click",e[13]),k(z,"click",e[15])],M=!0)},p(e,[o]){if(e[2]?D?(D.p(e,o),4&o&&te(D,1)):(D=Te(e),D.c(),te(D,1),D.m(t,n)):D&&(W(),ne(D,1,1,(()=>{D=null})),ee()),4098&o){let n;for(L=e[1],n=0;n<L.length;n+=1){const r=Pe(e,L,n);P[n]?(P[n].p(r,o),te(P[n],1)):(P[n]=Ae(r),P[n].c(),te(P[n],1),P[n].m(t,i))}for(W(),n=L.length;n<P.length;n+=1)T(n);ee()}if(3073&o){let n;for(A=Object.values(e[0]),n=0;n<A.length;n+=1){const r=Le(e,A,n);R[n]?(R[n].p(r,o),te(R[n],1)):(R[n]=Re(r),R[n].c(),te(R[n],1),R[n].m(t,l))}for(W(),n=A.length;n<R.length;n+=1)F(n);ee()}(!C||16&o)&&E(u,e[4]),e[3]?N?N.p(e,o):(N=Fe(e),N.c(),N.m(t,_)):N&&(N.d(1),N=null)},i(e){if(!C){te(D);for(let e=0;e<L.length;e+=1)te(P[e]);for(let e=0;e<A.length;e+=1)te(R[e]);te(h.$$.fragment,e),C=!0}},o(e){ne(D),P=P.filter(Boolean);for(let e=0;e<P.length;e+=1)ne(P[e]);R=R.filter(Boolean);for(let e=0;e<R.length;e+=1)ne(R[e]);ne(h.$$.fragment,e),C=!1},d(e){e&&b(t),D&&D.d(),y(P,e),y(R,e),ie(h),N&&N.d(),M=!1,r(I)}}}function Be(e,t,n){let o,r,s;l(e,me,(e=>n(6,s=e)));let i={},c=0,d=null,u=[],a=!0,f=!1,g=[],p=[],h=null;const m=he({x:0,y:0});var $;l(e,m,(e=>n(5,r=e))),$=()=>{window.addEventListener("keypress",(e=>{n(2,a=!a)})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&n(2,a=!a)})),window.addEventListener("mousedown",(()=>{f&&(n(3,f=!1),n(0,i=Object.assign({},g)))}))},P().$$.on_mount.push($);const b=()=>{if(f)return;if(p=[],!o)return;d&&(d.isSelected=!1,d=null);const e=Object.values(i);g={};for(let t of e)g[t.id]=Object.assign(Object.assign({},t),{edges:new Set([...t.edges])});let t=null;e:{for(let n of e)if(n.edges.size%2==1){t=n;break e}t=e[0]}e.forEach((e=>e.solutionOrder=""));let r=0;for(;t.solutionOrder=""===t.solutionOrder?++r:`${t.solutionOrder},${++r}`,p.push({x:t.x,y:t.y,order:r}),0!==t.edges.size;){let e=null;e:{const n=[...t.edges];for(let o of n)if(!Ce(t.id,o,i)){e=i[o];break e}const[o]=t.edges;e=i[o]}t.edges.delete(e.id),e.edges.delete(t.id),console.log(`${t.id} -> ${e.id}`),t=e}n(0,i=Object.assign({},i)),n(3,f=!0),x(p[0])},y=e=>{if(h=e,setTimeout((()=>h=null),200),e.edges.has(d.id)&&d.edges.has(e.id))return;e.isSelected=!1,d.isSelected=!1,e.edges.add(d.id),d.edges.add(e.id);const t=Math.atan2(d.y-e.y,d.x-e.x);n(1,u=[...u,{x:d.x,y:d.y,width:(Math.abs(d.x-e.x)**2+Math.abs(d.y-e.y)**2)**.5,height:50,angleDeg:180+180*t/Math.PI,node1Id:d.id,node2Id:e.id}]),n(0,i=Object.assign({},i)),d=null},x=e=>{if(!f)return;m.set({x:e.x,y:e.y});let t=p.indexOf(e)+1;p.length==t&&(t=0),setTimeout((()=>x(p[t])),500)};return e.$$.update=()=>{1&e.$$.dirty&&n(4,o=(e=>{if(f)return"showing solution";if(0===e.length)return!1;if(Se(Number(Object.keys(i)[0]),ze(i),i)!==e.length)return!1;let t=0;for(let n of e)n.edges.size%2==1&&t++;return 2===t?"Eulerian path":0===t&&"Eulerian cycle"})(Object.values(i)))},[i,u,a,f,o,r,s,m,b,e=>{const t=++c;n(0,i[t]={id:t,solutionOrder:"",x:e.pageX,y:e.pageY,isSelected:!1,edges:new Set},i)},e=>{const t=e.detail;return t===d?(t.isSelected=!1,n(0,i=Object.assign({},i)),void(d=null)):d?y(t):(t.isSelected=!0,n(0,i=Object.assign({},i)),void(d=t))},e=>{if(e.detail===h)return h=null;for(let t of Object.values(i))t.edges.delete(e.detail.id);n(1,u=u.filter((t=>t.node1Id!==e.detail.id&&t.node2Id!==e.detail.id))),e.detail.isSelected&&(d=null),delete i[e.detail.id],n(0,i=Object.assign({},i))},e=>{for(let t of Object.values(i))t.id===e.detail.node1Id?t.edges.delete(e.detail.node2Id):t.id===e.detail.node2Id&&t.edges.delete(e.detail.node1Id);n(0,i=Object.assign({},i)),n(1,u=u.filter((t=>t!==e.detail)))},()=>{n(0,i={}),c=0,d=null,n(1,u=[]),h=null},()=>n(2,a=!1),()=>b()]}return new class extends de{constructor(e){super(),ce(this,e,Be,Ne,i,{})}}({target:document.body,intro:!0})}();
//# sourceMappingURL=bundle.js.map
